{
      "type": "page",
      "name": "PageRoles",
      "components": [
            {
                  "name": "pageRoles",
                  "type": "resource",
                  "binding": "rest",
                  "resource": "$rootWebApp/api/virtualDomains.pbadmPageRoles"
            },
            {
                  "name": "pageLookup",
                  "type": "resource",
                  "binding": "rest",
                  "resource": "$rootWebApp/api/virtualDomains.pbadmPageLookup"
            },
            {
                  "name": "webTailorRolesLookup",
                  "type": "resource",
                  "binding": "rest",
                  "resource": "$rootWebApp/api/virtualDomains.pbadmWebTailorRoles"
            },
            {
                  "name": "SelectPageBlock",
                  "type": "block",
                  "label": "",
                  "showInitially": true,
                  "components": [
                        {
                              "name": "selectPage",
                              "type": "select",
                              "labelKey": "CONSTANT_NAME",
                              "valueKey": "PID",
                              "label": "Page",
                              "sourceModel": "pageLookup",
                              "sourceParameters": {},
                              "sourceValue": [],
                              "model": "selectPage",
                              "onUpdate": "$editPageRoles.$load();$EditRolesForm.$visible=$selectPage; $roleName.$populateSource();",
                              "required": false,
                              "placeholder": "Select..."
                        }
                  ]
            },
            {
                  "name": "EditRolesForm",
                  "type": "block",
                  "showInitially": false,
                  "components": [
                        {
                              "name": "editPageRoles",
                              "type": "grid",
                              "model": "pageRoles",
                              "label": "Edit Roles for selected page",
                              "parameters": {
                                    "PAGE_ID": "$selectPage"
                              },
                              "allowNew": true,
                              "allowModify": true,
                              "allowDelete": true,
                              "allowReload": true,
                              "pageSize": 5,
                              "components": [
                                    {
                                          "name": "roleName",
                                          "type": "select",
                                          "labelKey": "DESCRIPTION",
                                          "valueKey": "CODE",
                                          "documentation": "Should have some way to forbid selecting existing roles for this domain...",
                                          "label": "Role",
                                          "sourceModel": "webTailorRolesLookup",
                                          "sourceParameters": {},
                                          "sourceValue": [],
                                          "model": "ROLE_NAME",
                                          "onUpdate": "",
                                          "required": true,
                                          "placeholder": "Select unique role...",
                                          "value": ""
                                    },
                                    {
                                          "name": "allow",
                                          "type": "boolean",
                                          "label": "Allow Access",
                                          "value": "1",
                                          "booleanTrueValue": "1",
                                          "booleanFalseValue": "0",
                                          "readonly": false,
                                          "model": "ALLOW",
                                          "onUpdate": ""
                                    },
                                    {
                                          "name": "pageID",
                                          "type": "hidden",
                                          "value": "$selectPage",
                                          "model": "PAGE_ID"
                                    }
                              ]
                        }
                  ]
            }
      ],
      "documentation": "Associate Roles with a Page",
      "title": "Associate Roles with a Page",
      "scriptingLanguage": "JavaScript",
      "label": "Page Roles"
}